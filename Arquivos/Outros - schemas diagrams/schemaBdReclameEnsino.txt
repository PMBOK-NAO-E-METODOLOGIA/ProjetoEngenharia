CREATE DATABASE ReclameEnsinoBD;

CREATE TABLE tb_administradores(
	idAdmin			   INT PRIMARY KEY IDENTITY,
	nomeAdmin          VARCHAR(50) NOT NULL,
	nomeUsuario        VARCHAR(20) UNIQUE NOT NULL,
	senhaUsuario	   VARCHAR(20) NOT NULL,
	dataCadastro       DATE NOT NULL,
	isAtivo		       CHAR(1),
	CONSTRAINT CHK_isAtivo CHECK(isAtivo = 'S' OR isAtivo = 'N');
)

CREATE TABLE comentarios(
	idComentario	 	     INT PRIMARY KEY IDENTITY, --VERIFICAR COM A GALERA A EXISTENCIA DESTE CAMPO ASSIM COMO OS DEMAIS
	nomeUsuario	   		     VARCHAR(50),
	idTag				 	 int,
	tituloComentario		 varchar(50) not null,
	descricaoProblema		 VARCHAR(1000) NOT NULL,   --VERIFICAR A QUANTIDADE DE CARACTERES
	dataComentario 	     	 DATE NOT NULL,
	foiVisto		         char(1),
	
	constraint chk_foiVisto check(foiVisto = 'S' OR foiVisto = 'N'),
	constraint  fk_tags_comentario foreign key (idTag) references tags(id)
)

create table tags(
	id 		  int primary key identity,
	descricao varchar(30) unique
)


--FAZER UM PENTE FINO NAS TABELAS PROPOSTAS E BATER O MARTELO.